## [2WeekFix] 박진영

### 중간 리팩토링 및 기능 개발

---  

**호감 취소 기능 관련 리팩토링**

- [x] 변수명 `delete`에서 `cancel` 변경
- [x] Controller에서의 유효성 및 권한체크로직을 Service로 변경
- [x] Controller에서 Service를 이용해서 권한체크
- [x] 유효성 및 권한체크 로직 분리 (`canCancel`)
- [x] 호감 취소 시 양방향 관계 고려 (호감 취소한 사람 / 취소된 사람에게 알려줌)

###

**호감 표시 기능 관련 리팩토링**

- [x] 변수명 `add`에서 `like`로 변경
- [x] `canLike` 생성 -> 유효성 및 권한 체크 로직 분리
- [x] `canModifyAttractive` 생성 -> 매력포인트 수정 로직 분리
- [x] Test에서 JPA를 사용해서 조회
- [X] LikeablePersonServiceTests 도입
- [x] instaMember에 수치 기록

###

**호감 사유 변경 폼 추가**

- [x] 폼 추가
- [x] 폼 처리
- [x] 호감 사유 변경 시 수치 변경
- [x] 성별 변경과 변경 시 관련 수치 변경
- [x] 변경 시 기존 사유와 다른 사유를 선택하도록 강제
    - [x] 자바스크립트로 기존 사유의 체크박스를 disabled 처리

###

**스프링 이벤트 도입**

- [x] LikeablePerson 모듈에 있던 InstaMember 모듈관련 명시적 호출을 스프링 이벤트를 통해 제거, 결합도 감소

###  

**UI 관련**

- [x] 메인 화면
    - [x] 로그인 / 비로그인 화면 통일
        - [x] 비로그인 시 시작하기 버튼 노출


- [x] 인스타 계정 등록 페이지
    - [x] 계정 확인 URL 추가


- [x] 호감 표시 등록 페이지
    - [x] 계정 확인 URL 추가
    - [x] 호감 사유 이모티콘 추가
    - [x] 나의 인스타 계정 표시 개선


- [x] 호감 목록 페이지
    - [x] 리스트 목록 개선
    - [x] 호감 사유 이모티콘 추가
    - [x] 인스타 계정 표시 개선
    - [x] 목록 비어있을 때 메시지 및 호감 표시 바로가기 버튼 추가


- [x] 내 정보 페이지
    - [x] 성별과 인스타그램 계정 정보
    - [x] 인스타계정 미등록시 등록페이지로 이동
    - [x] 성별 인기
        - [x] 여성들로부터 받은 인기
        - [x] 님성들로부터 받은 인기
    - [x] 호감 사유별 인기
    - [x] 최근에 받은 호감


- [x] 404 페이지 커스터마이징


- [x] 인스타 인증 필요 메시지 중복 제거


- [x] 내비게이션 바
    - [x] 창 너비 줄어들면 내용 축소





###
**회원가입 및 로그인**
- [x] 소셜로그인 기능만 사용하기 위해 회원가입/로그인 폼 막음
    - [x] 로그인 폼은 admin url로 접근했을 때만 허용
    - [x] 소셜 로그인 -> "시작하기" 로 변경

- [x] 회원가입 기능 삭제
  - [x] 관련 테스트 삭제



###
**관리자 페이지**
- [x] 관리자 페이지 추가

###

**기타**

- [x] **BaseEntity** 추가하여 모든 엔티티들이 가져야할 기본적인 필드에 대한 중복 제거
- [x] 테스트 환경에서는 MySQL이 아닌 H2를 메모리모드로 사용
- [x] URL 앞에 usr/ 추가

